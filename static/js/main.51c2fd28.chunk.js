(this.webpackJsonpnycfridge=this.webpackJsonpnycfridge||[]).push([[0],{173:function(e,t,n){e.exports={Loader:"Spinner_Loader__3K0zH",load1:"Spinner_load1__2AjVX"}},175:function(e,t,n){e.exports={Modal:"Modal_Modal__1V7RD"}},176:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__3_tKW"}},179:function(e,t,n){e.exports=n(427)},184:function(e,t,n){},185:function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"},186:function(e,t,n){},403:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABzlBMVEUAAABEREBEREBEREBEREBPT0sYGBYRERARERARERARERARERARERAZGRdOTklEREBEREBEREBEREB0dG0ICAgCAgICAgICAgICAgICAgICAgIICAh0dG1EREBEREBEREADAwMDAwMODg0LCwoLCwoLCwoLCwoNDQwDAwMDAwNEREBEREBEREADAwMDAwIGBgaPj4dbW1ZbW1ZbW1YDAwMDAwMDAwMCAgICAgLDw7gDAwMDAwMDAwMCAgIDAwKrq6EDAwMDAwMDAwMCAgIKCgn///8CAgIDAwMDAwMCAgIEBAQEBAQEBAQEBAQEBAQCAgIDAwMDAwMCAgICAgIDAwIDAwIDAwICAgIDAwMDAwMCAgECAgL///8CAgIDAwMCAgLDw7gDAwMCAgICAgLDw7gDAwMCAgICAgLDw7gDAwMCAgIDAwOnp50DAwMDAwMDAwMQEA9MTEcDAwMEBANEREADAwMDAwMDAwNbW1YDAwMDAwMDAwMNDQwLCwoDAwMDAwN0dG0ICAgCAgICAgICAgICAgICAgICAgIICAh0dG1EREBEREBEREBNTUkZGRgRERARERARERARERARERARERAYGBdNTUlEREBEREAAAABmuXyAAAAAmXRSTlMAAwMDAwIHDQ0NDQ0NBwIDAwQEAiB/hYWFhYAgAgQDBFxiEhgYGBgUY1wEAwRfYS0CAwMDS2BdgW4BTGBdfWUCTGBgUw8ASmBieD5CQkI/eWJimnFpaWeVYl52WQBKYG4BYIFuAV2BbgFdfWQCYGBVEQNgTARMYEsDS1xjFBhjXAIggIWFhYWAIAIEAwMCBw0NDQ0NDQcCAwPEsv45AAAAAWJLR0QAiAUdSAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+QHFQ4MFCgXPvIAAAEoSURBVBjTY2BkYmZmYWVj5+Dk4ubh5eNnZmYSYGASFBISFhEVE5cQF5eUkpYREpKVY2AWkpdnUFBUUlZRVVPX0GSQl9fSBgnqMOjq6RsYGhkzmJjCBHV0GMzMLSzlgTqsrBl04II2tnb2OkDawZFBRweiXZ7BydmFwdXVlcHNHclMD08vbx8fXz//AAZ5uMrAoOCQ0NDQsPAImJlAwcioaIaYmBiG2DgU2+MTQBZZJcIsAgkmJafoQJ0EFZRnSE1LzwAJgpwENzMzKztHHugKh1wkM/PyCwoxzCwqZigBCZYi+6isnMHYsMKYobIMbqYOQ1V1jZpKrVpNXT3ETCZZLa2GxqbmltbWlrb2jk4tra5uBgE5be2e3r7+CRMnTZ4yddp0be3uGQDIxEsxpsxhkAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wNy0yMVQxNDoxMjoyMC0wNDowML8lG8UAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDctMjFUMTQ6MTI6MjAtMDQ6MDDOeKN5AAAAAElFTkSuQmCC"},422:function(e,t,n){},425:function(e,t,n){},427:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(33),i=n.n(r),A=(n(184),n(21)),l=n(22),c=n(24),d=n(23),s=(n(185),n(186),n(70)),g=n(94),u=(n(428),n(191),n(69)),p=n.n(u),E=n(172),f=n.n(E).a.create({baseURL:"https://nycfridge-1595334632389.firebaseio.com/"}),h=(n(403),n(173)),m=n.n(h),D=function(){return o.a.createElement("div",{className:m.a.Loader},"Loading...")},w=n(174),C=n.n(w),M=n(175),B=n.n(M),v=n(176),R=n.n(v),I=function(e){return e.display?o.a.createElement("div",{className:R.a.Backdrop,onClick:e.clicked}):null},b=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return console.log("shouldModalUpdate",this.props.children,e.children),e.display!==this.props.display||e.children!==this.props.children}},{key:"componentWillUpdate",value:function(){console.log("[Modal] WillUpdate")}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(I,{display:this.props.display,clicked:this.props.modalClosed}),o.a.createElement("div",{className:B.a.Modal,style:{transform:this.props.display?"translateY(0)":"translateY(-100vh)",opacity:this.props.display?"1":"0"}},this.props.children))}}]),n}(a.Component),O=n(95),y=n.n(O),j=(n(422),function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"Info"},this.props.fridgeData.name,o.a.createElement("br",null),this.props.fridgeData.streetAddress," ",o.a.createElement("br",null),this.props.fridgeData.contactGroup)}}]),n}(a.Component)),F=function(e){return o.a.createElement("div",{className:"pin",onMouseEnter:function(){return e.toggleHover(e.fridgeData.id)},onMouseLeave:function(){return e.toggleHover(e.fridgeData.id)},onClick:function(){return e.onModalOpen(e.fridgeData.id)}},e.hover===e.fridgeData.id?o.a.createElement(j,{fridgeData:e.fridgeData}):null,o.a.createElement(y.a,{className:"pin-icon"}),o.a.createElement("p",{className:"pin-text"},e.fridgeData.name))},k=(n(425),function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(A.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={modal:null},e.onModalOpen=function(t){e.setState({modal:t})},e.modalClosedHandler=function(){e.setState({modal:null})},e}return Object(l.a)(n,[{key:"render",value:function(){var e,t,n=this,a=null;this.props.fridges.length>0&&null!==this.state.modal&&(t=!0===(e=this.props.fridges.find((function(e){return e.id===n.state.modal}))).confirmed?o.a.createElement("h4",null,"Confirmed"):o.a.createElement("div",null,o.a.createElement("h4",null,"Unconfirmed"),o.a.createElement("button",{onClick:function(){return n.props.confirmed(e.id)}},"Confirm Fridge")),a=o.a.createElement("div",null,o.a.createElement("h2",null,e.name),o.a.createElement("h3",null,"Location: ",e.streetAddress),t));return o.a.createElement("div",{className:"map"},o.a.createElement("h2",{className:"map-h2"},"Find a Fridge Near You"),o.a.createElement("div",{className:"google-map"},o.a.createElement(b,{display:this.state.modal,modalClosed:this.modalClosedHandler,fridgeData:e},a),o.a.createElement(C.a,{bootstrapURLKeys:{key:"AIzaSyCOvDGXIuekFUUzSPh5l1940wCB657NudI"},defaultCenter:this.props.location,defaultZoom:this.props.zoomLevel},this.props.fridges.map((function(e){return o.a.createElement(F,{lat:e.lat,lng:e.lng,fridgeData:e,toggleHover:n.props.toggleHover,hover:n.props.hover,onModalOpen:n.onModalOpen})})))))}}]),n}(a.Component)),N=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(A.a)(this,n),(a=t.call(this,e)).toggleHover=function(e){var t=a.state.hover===e?null:e;a.setState({hover:t})},a.addFridge=function(){a.props.onFridgeAdded({name:"Bushwick Fridge",streetAddress:"133 Knickerbocker Ave",neighborhood:"Bushwick",borough:"Brooklyn",contactGroup:"Bushwick Mutual Aid",confirmed:!1})},a.state={location:{address:"252 Broadway Brooklyn NY 11211",lat:40.7,lng:-73.9},fridgeLocation:{},hover:null},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.onFridgesLoad()}},{key:"render",value:function(){var e=o.a.createElement(D,null);return this.props.fridges&&!this.props.loading&&(e=o.a.createElement(k,{location:this.state.location,zoomLevel:12,fridgeLocation:this.state.fridgeLocation,toggleHover:this.toggleHover,hover:this.state.hover,fridges:this.props.fridges,confirmed:this.props.onFridgeConfirmed})),o.a.createElement("div",{style:{height:"90vh",width:"80%",margin:"auto"}},o.a.createElement("button",{onClick:this.addFridge},"Add New Fridge"),e)}}]),n}(a.Component),G=Object(s.b)((function(e){return{fridges:e.fridges,loading:e.loading}}),(function(e){return{onFridgesLoad:function(){return e((p.a.setApiKey("AIzaSyCOvDGXIuekFUUzSPh5l1940wCB657NudI"),function(e){e({type:"FETCH_FRIDGE_START"}),f.get("/fridges.json").then((function(t){var n=[],a=function(e){var a=t.data[e],o=a.streetAddress,r=o.concat(" ",a.borough," NY");console.log(o),p.a.fromAddress(r).then((function(t){var n=t.results[0].geometry.location,o=n.lat,r=n.lng;a.lat=o,a.lng=r,a.id=e})).catch((function(e){console.error(e)})),console.log(a),n.push(a)};for(var o in t.data)a(o);console.log(n),e({type:"LOAD_FRIDGES",data:n})})).catch((function(t){e(void 0)}))}))},onFridgeAdded:function(t){return e((n=t,function(e){f.post("/fridges.json",n).then((function(t){e((t.data.name,{type:"ADD_FRIDGE",data:n}))})).catch((function(t){e(void 0)}))}));var n},onFridgeConfirmed:function(t){return e({type:"CONFIRM_FRIDGE",id:t})}}}))(N),Q=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(G,null))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=n(41),S=n(25),Y={fridges:[],loading:!1},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FRIDGE_START":return Object(S.a)(Object(S.a)({},e),{},{loading:!0});case"LOAD_FRIDGES":return Object(S.a)(Object(S.a)({},e),{},{fridges:t.data,loading:!1});case"ADD_FRIDGE":var n=t.data;return Object(S.a)(Object(S.a)({},e),{},{fridges:e.fridges.concat(n)});case"CONFIRM_FRIDGE":var a=e.fridges,o=a.map((function(e){return e.id===t.id&&(e.confirmed=!0),e}));return Object(S.a)(Object(S.a)({},e),{},{fridges:o});default:return e}},_=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||L.c,T=Object(L.d)(U,_(Object(L.a)(g.a))),V=o.a.createElement(s.a,{store:T},o.a.createElement(Q,null));i.a.render(V,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[179,1,2]]]);
//# sourceMappingURL=main.51c2fd28.chunk.js.map