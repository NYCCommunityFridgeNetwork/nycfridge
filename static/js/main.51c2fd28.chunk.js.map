{"version":3,"sources":["components/UI/Spinner.module.css","components/UI/Modal.module.css","components/UI/Backdrop.module.css","logo.svg","fridge.png","axios.js","components/UI/Spinner.js","components/UI/Backdrop.js","components/UI/FridgeModal.js","components/UI/InfoBox.js","components/LocationPin.js","components/Map.js","components/FridgeLocation.js","redux/actions/fridge.js","redux/actions/actionTypes.js","App.js","serviceWorker.js","redux/reducers/fridge.js","index.js"],"names":["module","exports","instance","axios","create","baseURL","spinner","className","classes","Loader","backdrop","props","display","Backdrop","onClick","clicked","Modal","nextProps","nextState","console","log","this","children","modalClosed","style","transform","opacity","Component","InfoBox","fridgeData","name","streetAddress","contactGroup","LocationPin","onMouseEnter","toggleHover","id","onMouseLeave","onModalOpen","hover","Map","state","modal","setState","modalClosedHandler","f","status","modalInfo","fridges","length","find","el","confirmed","FridgeModal","bootstrapURLKeys","key","process","defaultCenter","location","defaultZoom","zoomLevel","map","lat","lng","FridgeLocation","h","addFridge","onFridgeAdded","neighborhood","borough","address","fridgeLocation","onFridgesLoad","Spinner","loading","onFridgeConfirmed","height","width","margin","connect","dispatch","Geocode","setApiKey","type","get","then","response","fetchedFridges","data","fullAddress","concat","fromAddress","results","geometry","catch","error","push","fetchFridgeFail","fridge","submissionData","post","orderFail","fridgeID","App","Boolean","window","hostname","match","initialState","reducer","action","newFridge","updatedFridges","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","app","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.51c2fd28.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Spinner_Loader__3K0zH\",\"load1\":\"Spinner_load1__2AjVX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__1V7RD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__3_tKW\"};","module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABzlBMVEUAAABEREBEREBEREBEREBPT0sYGBYRERARERARERARERARERARERAZGRdOTklEREBEREBEREBEREB0dG0ICAgCAgICAgICAgICAgICAgICAgIICAh0dG1EREBEREBEREADAwMDAwMODg0LCwoLCwoLCwoLCwoNDQwDAwMDAwNEREBEREBEREADAwMDAwIGBgaPj4dbW1ZbW1ZbW1YDAwMDAwMDAwMCAgICAgLDw7gDAwMDAwMDAwMCAgIDAwKrq6EDAwMDAwMDAwMCAgIKCgn///8CAgIDAwMDAwMCAgIEBAQEBAQEBAQEBAQEBAQCAgIDAwMDAwMCAgICAgIDAwIDAwIDAwICAgIDAwMDAwMCAgECAgL///8CAgIDAwMCAgLDw7gDAwMCAgICAgLDw7gDAwMCAgICAgLDw7gDAwMCAgIDAwOnp50DAwMDAwMDAwMQEA9MTEcDAwMEBANEREADAwMDAwMDAwNbW1YDAwMDAwMDAwMNDQwLCwoDAwMDAwN0dG0ICAgCAgICAgICAgICAgICAgICAgIICAh0dG1EREBEREBEREBNTUkZGRgRERARERARERARERARERARERAYGBdNTUlEREBEREAAAABmuXyAAAAAmXRSTlMAAwMDAwIHDQ0NDQ0NBwIDAwQEAiB/hYWFhYAgAgQDBFxiEhgYGBgUY1wEAwRfYS0CAwMDS2BdgW4BTGBdfWUCTGBgUw8ASmBieD5CQkI/eWJimnFpaWeVYl52WQBKYG4BYIFuAV2BbgFdfWQCYGBVEQNgTARMYEsDS1xjFBhjXAIggIWFhYWAIAIEAwMCBw0NDQ0NDQcCAwPEsv45AAAAAWJLR0QAiAUdSAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+QHFQ4MFCgXPvIAAAEoSURBVBjTY2BkYmZmYWVj5+Dk4ubh5eNnZmYSYGASFBISFhEVE5cQF5eUkpYREpKVY2AWkpdnUFBUUlZRVVPX0GSQl9fSBgnqMOjq6RsYGhkzmJjCBHV0GMzMLSzlgTqsrBl04II2tnb2OkDawZFBRweiXZ7BydmFwdXVlcHNHclMD08vbx8fXz//AAZ5uMrAoOCQ0NDQsPAImJlAwcioaIaYmBiG2DgU2+MTQBZZJcIsAgkmJafoQJ0EFZRnSE1LzwAJgpwENzMzKztHHugKh1wkM/PyCwoxzCwqZigBCZYi+6isnMHYsMKYobIMbqYOQ1V1jZpKrVpNXT3ETCZZLa2GxqbmltbWlrb2jk4tra5uBgE5be2e3r7+CRMnTZ4yddp0be3uGQDIxEsxpsxhkAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wNy0yMVQxNDoxMjoyMC0wNDowML8lG8UAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDctMjFUMTQ6MTI6MjAtMDQ6MDDOeKN5AAAAAElFTkSuQmCC\"","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://nycfridge-1595334632389.firebaseio.com/',\r\n});\r\n\r\nexport default instance;","import React from 'react';\r\nimport classes from './Spinner.module.css'\r\n\r\nconst spinner = () => (\r\n  <div className={classes.Loader}>Loading...</div>\r\n)\r\n\r\nexport default spinner;","import React from 'react';\r\nimport classes from './Backdrop.module.css';\r\n\r\nconst backdrop = (props) => (\r\n  props.display ? <div className={classes.Backdrop} onClick={props.clicked}></div> : null\r\n);\r\n\r\nexport default backdrop;","import React, { Component } from 'react';\r\nimport classes from './Modal.module.css';\r\nimport Backdrop from './Backdrop';\r\n\r\nclass Modal extends Component {\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    console.log('shouldModalUpdate', this.props.children, nextProps.children)\r\n    return (nextProps.display!== this.props.display || nextProps.children !== this.props.children)\r\n  }\r\n\r\n  componentWillUpdate() {\r\n    console.log('[Modal] WillUpdate');\r\n  }\r\n\r\n  render () {\r\n    \r\n    return (\r\n      <div>\r\n        <Backdrop \r\n          display={this.props.display}\r\n          clicked={this.props.modalClosed}\r\n        />\r\n        <div\r\n          className={classes.Modal}\r\n          style={{\r\n            transform: this.props.display ? 'translateY(0)' : 'translateY(-100vh)',\r\n            opacity: this.props.display ? '1' : '0'\r\n          }}\r\n        >\r\n          {this.props.children}\r\n          \r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Modal;","import React, { Component } from 'react';\r\nimport './modal.css';\r\n\r\n\r\nclass InfoBox extends Component {\r\n  render () {\r\n    return (\r\n      <div className=\"Info\">\r\n        {this.props.fridgeData.name}<br/>\r\n        {this.props.fridgeData.streetAddress} <br />\r\n        {this.props.fridgeData.contactGroup}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default InfoBox;","import React from 'react';\r\nimport Kitchen from '@material-ui/icons/Kitchen'\r\n\r\nimport InfoBox from './UI/InfoBox';\r\n\r\nconst LocationPin = (props) => (\r\n  <div \r\n    className=\"pin\"\r\n    onMouseEnter={() => props.toggleHover(props.fridgeData.id)}\r\n    onMouseLeave={() => props.toggleHover(props.fridgeData.id)}\r\n    onClick={() => props.onModalOpen(props.fridgeData.id)}\r\n  >\r\n    {props.hover === props.fridgeData.id ? <InfoBox fridgeData={props.fridgeData} /> : null}\r\n    <Kitchen className=\"pin-icon\" />\r\n    <p className=\"pin-text\">{props.fridgeData.name}</p>\r\n  </div>\r\n);\r\n\r\nexport default LocationPin;","import React , { Component } from 'react'\r\nimport GoogleMapReact from 'google-map-react'\r\nimport {GoogleApiWrapper} from 'google-maps-react';\r\n\r\nimport FridgeModal from './UI/FridgeModal';\r\nimport LocationPin from './LocationPin';\r\nimport './map.css'\r\n\r\n\r\nclass Map extends Component {\r\n\r\n  state = {\r\n    modal: null\r\n  }\r\n  onModalOpen = (id) =>  {\r\n    this.setState({modal: id});\r\n  }\r\n  modalClosedHandler = () => {\r\n    this.setState({\r\n      modal: null\r\n    });\r\n  }\r\n\r\n  render () {\r\n    let f;\r\n    let modalInfo = null;\r\n    if (this.props.fridges.length > 0 && this.state.modal !== null) {\r\n      f = this.props.fridges.find(el => el.id === this.state.modal)\r\n      let status;\r\n      if (f.confirmed === true) {\r\n        status = (<h4>Confirmed</h4>)}\r\n        else {\r\n          status= (<div><h4>Unconfirmed</h4><button onClick={() => this.props.confirmed(f.id)}>Confirm Fridge</button></div>)\r\n        }\r\n\r\n      modalInfo = (\r\n        <div>\r\n        <h2>{f.name}</h2>\r\n        <h3>Location: {f.streetAddress}</h3>\r\n        {status}\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"map\">\r\n    <h2 className=\"map-h2\">Find a Fridge Near You</h2>\r\n\r\n    <div className=\"google-map\">\r\n      <FridgeModal\r\n        display={this.state.modal}\r\n        modalClosed={this.modalClosedHandler}\r\n        fridgeData={f}\r\n      >\r\n        {modalInfo}\r\n      </FridgeModal>\r\n      <GoogleMapReact\r\n        \r\n        bootstrapURLKeys={{ key: process.env.REACT_APP_AUTH_TOKEN }}\r\n        defaultCenter={this.props.location}\r\n        defaultZoom={this.props.zoomLevel}\r\n      >\r\n        {this.props.fridges.map(f => (\r\n          <LocationPin\r\n          lat={f.lat}\r\n          lng={f.lng}\r\n          fridgeData={f}\r\n          toggleHover={this.props.toggleHover}\r\n          hover={this.props.hover}\r\n          onModalOpen={this.onModalOpen}\r\n        />\r\n        ))}\r\n      </GoogleMapReact>\r\n    </div>\r\n  </div>\r\n    )}\r\n}\r\n\r\nexport default Map;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport thunk from 'redux-thunk';\r\nimport { compose, withProps } from 'recompose';\r\nimport Kitchen from '@material-ui/icons/Kitchen';\r\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\";\r\nimport Geocode from \"react-geocode\";\r\nimport axios from '../axios';\r\n\r\nimport Fridge from '../fridge.png';\r\nimport Spinner from './UI/Spinner';\r\nimport * as actions from '../redux/actions/fridge';\r\n\r\n\r\n\r\nimport Map from './Map';\r\n\r\nclass FridgeLocation extends Component {\r\n\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      location: {\r\n        address: '252 Broadway Brooklyn NY 11211',\r\n        lat: 40.7,\r\n        lng: -73.9\r\n      },\r\n      fridgeLocation: {},\r\n      hover: null\r\n    }\r\n  }\r\n  \r\n  componentDidMount () {\r\n    this.props.onFridgesLoad()\r\n  }\r\n\r\n  toggleHover = (id) => {\r\n    let h = this.state.hover === id ? null : id;\r\n    this.setState({hover: h})\r\n  };\r\n\r\n  addFridge = () => {\r\n    let data = {\r\n      name: 'Bushwick Fridge',\r\n      streetAddress: '133 Knickerbocker Ave',\r\n      neighborhood: 'Bushwick',\r\n      borough: 'Brooklyn',\r\n      contactGroup: 'Bushwick Mutual Aid',\r\n      confirmed: false\r\n    }\r\n    this.props.onFridgeAdded(data)\r\n  }\r\n  \r\n  render (){\r\n    let map = (<Spinner />);\r\n    if (this.props.fridges && !this.props.loading) {\r\n      map = (\r\n        <Map \r\n          location={this.state.location}\r\n          zoomLevel={12}\r\n          fridgeLocation={this.state.fridgeLocation}\r\n          toggleHover={this.toggleHover}\r\n          hover={this.state.hover}\r\n          fridges={this.props.fridges}\r\n          confirmed={this.props.onFridgeConfirmed}\r\n          />\r\n      )\r\n    }\r\n    return (\r\n      <div style={{ height: '90vh', width: '80%', margin: 'auto'}}>\r\n        <button onClick={this.addFridge}>Add New Fridge</button>\r\n        {map}\r\n          \r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    fridges: state.fridges,\r\n    loading: state.loading\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onFridgesLoad: () => dispatch(actions.fetchFridges()),\r\n    onFridgeAdded: (fridge) => dispatch(actions.submitFridge(fridge)),\r\n    onFridgeConfirmed: (fridgeID) => dispatch(actions.confirmFridge(fridgeID))\r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FridgeLocation);","import * as actionTypes from './actionTypes';\r\nimport axios from '../../axios';\r\nimport Geocode from \"react-geocode\";\r\n\r\n\r\nexport const addFridgeSuccess = (id, data) => {\r\n  return {\r\n    type: actionTypes.ADD_FRIDGE,\r\n    data: data\r\n  }\r\n};\r\n\r\nexport const orderFail = () => {\r\n\r\n}\r\nexport const submitFridge = (submissionData) => {\r\n  return dispatch => {\r\n    axios.post('/fridges.json', submissionData)\r\n      .then(response => {\r\n        dispatch(addFridgeSuccess(response.data.name, submissionData));\r\n      })\r\n      .catch(error => {\r\n        dispatch(orderFail(error));\r\n      });\r\n    }\r\n}\r\n\r\nexport const fetchFridgesStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_FRIDGE_START\r\n  }\r\n}\r\n\r\nexport const fetchFridgeFail = (error) => {\r\n\r\n}\r\n\r\nexport const fetchFridgeSuccess = (fridges) => {\r\n  return {\r\n    type: actionTypes.LOAD_FRIDGES,\r\n    data: fridges\r\n  }\r\n}\r\n    \r\nexport const fetchFridges = () => {\r\n  Geocode.setApiKey(process.env.REACT_APP_AUTH_TOKEN);\r\n  return dispatch => {\r\n    dispatch(fetchFridgesStart());\r\n    axios.get('/fridges.json')\r\n    .then(response => {\r\n      const fetchedFridges = [];\r\n      for (let key in response.data) {\r\n        let f = response.data[key]\r\n        let streetAddress = f.streetAddress;\r\n        let fullAddress = streetAddress.concat(\" \" , f.borough, \" NY\");\r\n        console.log(streetAddress);\r\n        Geocode.fromAddress(fullAddress).then(response => {\r\n          const { lat, lng } = response.results[0].geometry.location;\r\n          f.lat = lat;\r\n          f.lng = lng;\r\n          f.id = key;\r\n          },\r\n        )\r\n          .catch(error => {\r\n            console.error(error);\r\n          });\r\n          console.log(f);\r\n          fetchedFridges.push(f);\r\n        }\r\n      console.log(fetchedFridges)\r\n      dispatch(fetchFridgeSuccess(fetchedFridges));\r\n    })\r\n    .catch(error => {\r\n      dispatch(fetchFridgeFail(error));\r\n    });\r\n  }\r\n}\r\nexport const confirmFridge = (id) => {\r\n  return {\r\n    type: actionTypes.CONFIRM_FRIDGE,\r\n    id: id\r\n  }\r\n}\r\n\r\n","export const ADD_FRIDGE = 'ADD_FRIDGE';\r\nexport const LOAD_FRIDGES = 'LOAD_FRIDGES';\r\nexport const CONFIRM_FRIDGE = 'CONFIRM_FRIDGE';\r\n\r\nexport const FETCH_FRIDGE_START = 'FETCH_FRIDGE_START';","import React, { Component } from 'react';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\n\r\nimport FridgeLocation from './components/FridgeLocation'\r\n\r\nclass App extends Component {\r\n  render () {\r\n  return (\r\n    <div className=\"App\">\r\n      <FridgeLocation />\r\n    </div>\r\n  );\r\n}\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import * as actionTypes from '../actions/actionTypes';\r\n\r\nconst initialState = {\r\n  fridges: [],\r\n  loading: false\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.FETCH_FRIDGE_START:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      }\r\n    case actionTypes.LOAD_FRIDGES:\r\n      return {\r\n        ...state,\r\n        fridges: action.data,\r\n        loading: false\r\n      }\r\n    case actionTypes.ADD_FRIDGE:\r\n      const newFridge = action.data;\r\n      return {\r\n        ...state,\r\n        fridges: state.fridges.concat(newFridge)\r\n      }\r\n    case actionTypes.CONFIRM_FRIDGE:\r\n      const fridges = state.fridges;\r\n      const updatedFridges = fridges.map(f => {\r\n        if (f.id === action.id){\r\n          f.confirmed = true;\r\n        }\r\n        return f;\r\n      });\r\n      return {\r\n        ...state,\r\n        fridges: updatedFridges\r\n      }\r\n    default: \r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux';\r\nimport thunk from 'redux-thunk'; \r\nimport { Provider } from 'react-redux';\r\n\r\nimport reducer from './redux/reducers/fridge';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducer, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nconst app  = (\r\n  <Provider store={store}>\r\n      <App />\r\n  </Provider>\r\n)\r\nReactDOM.render(app, document.getElementById('root'));\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}